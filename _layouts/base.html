<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  {% assign seo_title = site.title %}
  {% assign seo_description = site.description %}
  {% assign seo_image = site.social_image %}

  <title>{{ seo_title }}</title>
  <meta name="description" content="{{ seo_description | escape }}">
  <link rel="canonical" href="{{ page.url | absolute_url }}">

  <!-- Open Graph / Facebook -->
  <meta property="og:site_name" content="{{ site.title }}">
  <meta property="og:title" content="{{ seo_title }}">
  <meta property="og:description" content="{{ seo_description | escape }}">
  {% if page.collection == 'posts' or page.layout == 'post' %}
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
  {% else %}
    <meta property="og:type" content="website">
  {% endif %}
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  {% if seo_image %}
  <meta property="og:image" content="{{ seo_image | absolute_url }}">
  {% endif %}

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  {% if site.twitter_username %}
  <meta name="twitter:site" content="@{{ site.twitter_username }}">
  <meta name="twitter:creator" content="@{{ site.twitter_username }}">
  {% endif %}
  <meta name="twitter:title" content="{{ seo_title }}">
  <meta name="twitter:description" content="{{ seo_description | escape }}">
  {% if seo_image %}
  <meta name="twitter:image" content="{{ seo_image | absolute_url }}">
  {% endif %}

  <link rel="stylesheet" href="{{ '/style.css' | relative_url }}">
  {% if jekyll.environment == "production" and site.umami.website_id %}
  <script defer src="{{ site.umami.script_url }}" data-website-id="{{ site.umami.website_id }}"></script>
  {% endif %}
</head>
<body>
  <header>
    <h1><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>
    <nav>
      {% assign nav_pages = site.pages %}
      {% if site.collections.pages %}
        {% assign nav_pages = nav_pages | concat: site.collections.pages.docs %}
      {% endif %}
      {% assign nav_pages = nav_pages | sort: "title" %}
      {% assign nav_pages = nav_pages | sort: "order" %}
      {% for p in nav_pages %}
        {% if p.title and p.url %}
          <a href="{{ p.url | relative_url }}" {% if p.url == page.url %}aria-current="page"{% endif %}>{{ p.title }}</a>
        {% endif %}
      {% endfor %}
    </nav>
  </header>

  <!-- Main content injected from child layouts -->
  {{ content }}

  <footer>
    <p>&copy; {{ site.time | date: '%Y' }} {{ site.title }}. All rights reserved.</p>
  </footer>
</body>
</html>
